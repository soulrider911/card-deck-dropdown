!function(t){t.fn.card_drop=function(e){var s=t.extend({stackHeight:null,explicitHeight:!1,upateTitle:!0,addClass:null,complete:null},e);return this.each(function(){function e(){c.each(function(e){t(this).css("top",2*e).css("width",l-1*e+"%").css("margin-left",.5*e+"%"),s.explicitHeight===!0&&i.css("height",t(this).outerHeight()+10),s.stackHeight&&t(this).css("top",e*s.stackHeight)}),i.removeClass("active")}var i=t(this),a=i.children("a.toggle"),c=a.next("div").children("a"),n=c.length,l=100;s.addClass&&i.addClass(s.addClass),s.theme&&i.removeClass("large, small").addClass(s.theme),c.each(function(e){t(this).css("z-index",n-e)});var h=0;c.each(function(){h+=t(this).outerHeight()+10}),e(),a.on("mousedown",function(){var a=t(this);a.parent().is(".active")?(e(),console.log("closing")):(console.log("opening"),a.parent().addClass("active"),s.explicitHeight===!0&&i.css("height",h),c.each(function(e){var s=t(this);s.css("top",s.outerHeight()*(e+1)).css("width","100%").css("margin-left","0px")}))}),c.on("click",function(){var i=t(this),n=i.text(),l=i.children("i").attr("class");return c.removeClass("active"),i.is("active")?i.removeClass("active"):i.addClass("active"),s.updateTitle===!1||(a.children("span").text(n),a.children("i").removeClass().addClass(l)),e(),t.isFunction(s.complete)&&s.complete.call(this),!1})})}}(jQuery);